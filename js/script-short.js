var modalButton=document.querySelector(".button-message"),closeButton=document.querySelector(".button-close"),overlay=document.querySelector(".modal-overlay"),sentButton=document.querySelector(".button-user-message"),modal=document.querySelector(".modal-user-message"),form=modal.querySelector("form"),fullName=modal.querySelector("[name=message-fullname]"),eMail=modal.querySelector("[name=message-email]"),message=modal.querySelector("[name=message-text]");if(modalButton&&closeButton&&overlay&&modal){function openModal(e){e.preventDefault(),overlay.classList.add("overlay-open"),modal.classList.add("modal-open"),fullName.focus()}function closeModal(e){e&&e.preventDefault&&e.preventDefault(),overlay.classList.remove("overlay-open"),modal.classList.remove("modal-open"),modal.classList.remove("modal-error"),modal.classList.remove("modal-sent"),fullName.value="",eMail.value="",message.value=""}modalButton.addEventListener("click",openModal),closeButton.addEventListener("click",closeModal),overlay.addEventListener("click",closeModal),form.addEventListener("submit",function(e){e.preventDefault(),fullName.value&&eMail.value&&message.value?(modal.classList.add("modal-sent"),setTimeout(closeModal,500)):(modal.classList.remove("modal-error"),modal.offsetWidth=modal.offsetWidth,modal.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modal.classList.contains("modal-open")&&closeModal())})}